var Conversation=(function(){function a(){this.messages=[]}a.createConversation=function(f){try{var b=new a();for(var c=0;c<f.messages.length;c++){var e=Message.createMessage(f.messages[c]);b.addMessage(e)}return b}catch(d){return null}};a.prototype.addMessage=function(c){if(this.messages.length==0||c.date.isSame(this.messages[this.messages.length-1].date)||c.date.isAfter(this.messages[this.messages.length-1].date)){this.messages.push(c)}else{for(var b=0;b<this.messages.length;b++){if(c.date.isBefore(this.messages[b].date)){this.messages.splice(b,0,c)}}}};a.prototype.getStartDate=function(){return this.messages[0].date};a.prototype.getEndDate=function(){return this.messages[this.messages.length-1].date};a.prototype.getLocalPhoneNumber=function(){if(this.messages.length===0){return null}else{return this.messages[0].getLocalPhoneNumber()}};a.prototype.getRemotePhoneNumber=function(){if(this.messages.length===0){return null}else{return this.messages[0].getRemotePhoneNumber()}};a.prototype.equals=function(b){if(this.messages.length!==b.messages.length){return false}for(var c=0;c<this.messages.length;c++){if(!this.messages[c].equals(b.messages[c])){return false}}return true};a.prototype.containsUnreadMessages=function(){for(var b=0;b<this.messages.length;b++){if(this.messages[b].unread){return true}}return false};a.prototype.markAllMessagesAsRead=function(){for(var b=0;b<this.messages.length;b++){this.messages[b].unread=false}};return a})();